(function(){"use strict";var t={235:function(t,e,r){var o=r(751),n=r(641);const a={id:"app"};function c(t,e,r,o,c,u){const i=(0,n.g2)("router-link"),l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("nav",null,[(0,n.bF)(i,{to:"/"},{default:(0,n.k6)((()=>e[0]||(e[0]=[(0,n.eW)("Главная")]))),_:1}),(0,n.bF)(i,{to:"/cart"},{default:(0,n.k6)((()=>e[1]||(e[1]=[(0,n.eW)("Корзина")]))),_:1})]),(0,n.bF)(l)])}var u={name:"App"},i=r(262);const l=(0,i.A)(u,[["render",c]]);var s=l,d=r(220),p=r(33);const g=["value"],h={class:"product-list"};function v(t,e,r,a,c,u){const i=(0,n.g2)("ProductCardComponent"),l=(0,n.g2)("PaginationComponent");return(0,n.uX)(),(0,n.CE)("div",null,[e[3]||(e[3]=(0,n.Lk)("h1",null,"Список товаров",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>c.selectedCategory=t),onChange:e[1]||(e[1]=(...t)=>u.filterByCategory&&u.filterByCategory(...t))},[e[2]||(e[2]=(0,n.Lk)("option",{value:""},"Все категории",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.categories,(t=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,p.v_)(t),9,g)))),128))],544),[[o.u1,c.selectedCategory]]),(0,n.Lk)("div",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.filteredProducts,(t=>((0,n.uX)(),(0,n.Wv)(i,{key:t.id,product:t,onClick:e=>u.viewProduct(t.id)},null,8,["product","onClick"])))),128))]),(0,n.bF)(l,{total:c.totalProducts,currentPage:c.page,onPageChange:u.fetchProducts},null,8,["total","currentPage","onPageChange"])])}var f=r(335);const k=["src"];function C(t,e,r,a,c,u){return(0,n.uX)(),(0,n.CE)("div",{class:"product-card",onClick:e[1]||(e[1]=(...t)=>u.handleClick&&u.handleClick(...t))},[(0,n.Lk)("img",{src:r.product.image,alt:"Product Image"},null,8,k),(0,n.Lk)("h3",null,(0,p.v_)(r.product.title),1),(0,n.Lk)("p",null,"Цена: "+(0,p.v_)(r.product.price)+" $",1),(0,n.Lk)("p",null,"Категория: "+(0,p.v_)(r.product.category),1),(0,n.Lk)("p",null,"Оценка: "+(0,p.v_)(r.product.rating.rate)+" / 5",1),(0,n.Lk)("button",{onClick:e[0]||(e[0]=(0,o.D$)(((...t)=>u.addToCart&&u.addToCart(...t)),["stop"]))},"В корзину")])}var m={props:["product"],methods:{handleClick(){this.$emit("click")},addToCart(){const t=JSON.parse(localStorage.getItem("cart"))||[];t.push(this.product),localStorage.setItem("cart",JSON.stringify(t)),alert("Товар добавлен в корзину!")}}};const P=(0,i.A)(m,[["render",C]]);var y=P;const b={class:"pagination"},L=["disabled"],_=["disabled"];function O(t,e,r,o,a,c){return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>c.prevPage&&c.prevPage(...t)),disabled:1===r.currentPage},"Назад",8,L),(0,n.Lk)("span",null,"Страница "+(0,p.v_)(r.currentPage),1),(0,n.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>c.nextPage&&c.nextPage(...t)),disabled:!c.hasMorePages},"Вперед",8,_)])}var E={props:["total","currentPage"],computed:{hasMorePages(){return 10*this.currentPage<this.total}},methods:{prevPage(){this.currentPage>1&&this.$emit("pageChange",this.currentPage-1)},nextPage(){this.hasMorePages&&this.$emit("pageChange",this.currentPage+1)}}};const S=(0,i.A)(E,[["render",O]]);var X=S,w={components:{ProductCardComponent:y,PaginationComponent:X},data(){return{products:[],categories:[],filteredProducts:[],selectedCategory:"",page:1,totalProducts:0}},methods:{async fetchProducts(t=1){this.page=t;const e=await f.A.get(`https://fakestoreapi.com/products?limit=10&page=${t}`);this.products=e.data,this.filteredProducts=e.data,this.totalProducts=e.headers["x-total-count"]},async fetchCategories(){const t=await f.A.get("https://fakestoreapi.com/products/categories");this.categories=t.data},filterByCategory(){""===this.selectedCategory?this.filteredProducts=this.products:this.filteredProducts=this.products.filter((t=>t.category===this.selectedCategory))},viewProduct(t){this.$router.push(`/product/${t}`)}},mounted(){this.fetchProducts(),this.fetchCategories()}};const $=(0,i.A)(w,[["render",v]]);var A=$;const I={key:0,class:"product-detail"},T=["src"],j={key:1};function x(t,e,r,o,a,c){return a.product?((0,n.uX)(),(0,n.CE)("div",I,[(0,n.Lk)("h1",null,(0,p.v_)(a.product.title),1),(0,n.Lk)("img",{src:a.product.image,alt:"Product Image"},null,8,T),(0,n.Lk)("p",null,"Цена: "+(0,p.v_)(a.product.price)+" $",1),(0,n.Lk)("p",null,"Категория: "+(0,p.v_)(a.product.category),1),(0,n.Lk)("p",null,"Описание: "+(0,p.v_)(a.product.description),1),(0,n.Lk)("p",null,"Оценка: "+(0,p.v_)(a.product.rating.rate)+" / 5",1),(0,n.Lk)("p",null,"Количество оценок: "+(0,p.v_)(a.product.rating.count),1),(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>c.addToCart&&c.addToCart(...t))},"Добавить в корзину")])):((0,n.uX)(),(0,n.CE)("div",j,e[1]||(e[1]=[(0,n.Lk)("p",{class:"loading-message"},"Загрузка продукта...",-1)])))}var F={data(){return{product:null}},methods:{async fetchProduct(){const t=this.$route.params.id;try{const e=await f.A.get(`https://fakestoreapi.com/products/${t}`);this.product=e.data}catch(e){console.error("Ошибка загрузки продукта:",e)}},addToCart(){const t=JSON.parse(localStorage.getItem("cart"))||[];t.push(this.product),localStorage.setItem("cart",JSON.stringify(t)),alert("Товар добавлен в корзину!")}},mounted(){this.fetchProduct()}};const J=(0,i.A)(F,[["render",x]]);var M=J;const N={key:0},B={key:1};function K(t,e,r,o,a,c){return(0,n.uX)(),(0,n.CE)("div",null,[e[2]||(e[2]=(0,n.Lk)("h1",null,"Корзина",-1)),0===a.cart.length?((0,n.uX)(),(0,n.CE)("div",N,e[1]||(e[1]=[(0,n.Lk)("p",null,"Корзина пуста",-1)]))):((0,n.uX)(),(0,n.CE)("div",B,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.cart,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"cart-item"},[(0,n.Lk)("h3",null,(0,p.v_)(t.title),1),(0,n.Lk)("p",null,"Цена: "+(0,p.v_)(t.price)+" $",1)])))),128)),(0,n.Lk)("p",null,"Общая стоимость: "+(0,p.v_)(c.totalPrice)+" $",1),(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>c.clearCart&&c.clearCart(...t))},"Очистить корзину")]))])}var W={data(){return{cart:[]}},computed:{totalPrice(){return this.cart.reduce(((t,e)=>t+e.price),0)}},mounted(){this.cart=JSON.parse(localStorage.getItem("cart"))||[]},methods:{clearCart(){this.cart=[],localStorage.removeItem("cart"),alert("Корзина очищена!")}}};const D=(0,i.A)(W,[["render",K]]);var U=D;const V=[{path:"/",component:A},{path:"/product/:id",component:M},{path:"/cart",component:U}],q=(0,d.aE)({history:(0,d.LA)(),routes:V});var z=q;const G=(0,o.Ef)(s);G.config.globalProperties.$http=f.A,G.use(z),G.mount("#app")}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,a){if(!o){var c=1/0;for(s=0;s<t.length;s++){o=t[s][0],n=t[s][1],a=t[s][2];for(var u=!0,i=0;i<o.length;i++)(!1&a||c>=a)&&Object.keys(r.O).every((function(t){return r.O[t](o[i])}))?o.splice(i--,1):(u=!1,a<c&&(c=a));if(u){t.splice(s--,1);var l=n();void 0!==l&&(e=l)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[o,n,a]}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,a,c=o[0],u=o[1],i=o[2],l=0;if(c.some((function(e){return 0!==t[e]}))){for(n in u)r.o(u,n)&&(r.m[n]=u[n]);if(i)var s=i(r)}for(e&&e(o);l<c.length;l++)a=c[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(s)},o=self["webpackChunkvue_store"]=self["webpackChunkvue_store"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(235)}));o=r.O(o)})();
//# sourceMappingURL=app.6120d608.js.map